function git_not_pushed {
  if [[ "`git rev-parse --is-inside-work-tree 2>/dev/null`" = "true" ]]; then
    _head="`git rev-parse --verify -q HEAD 2>/dev/null`"
    if [[ $? -eq 0 ]]; then
      _branch=`git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/'`
      _remote=`git show-ref origin/${_branch} | cut -d ' '  -f1`
      if [[ -n "${_remote}" ]]; then
        if [[ "${_head}" = "${_remote}" ]]; then
          return
        fi
        echo -n "*"
      fi
    fi
  fi
}

function git_branch {
  _branch=`git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1) /'`
  echo $_branch
}
